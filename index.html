<html>
  <head>
    <title>McQueen feat. Witkin</title>
    <meta charset="utf-8" />
    <meta name="robots" content="noindex, nofollow">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <meta name="author" content="ARTOLDO - Sara Ferro & Chris Weil">
    <meta property="og:image" content="./images/mask.png" />
    <link rel="icon" type="image/png" href="./images/mask.png" />
    <script src="assets/engine.js"></script>
    <script src="assets/extras.js"></script>
    <script src="assets/sound.js"></script>
    <script src="assets/audio.js"></script>
    <script src="assets/rain.js"></script>
    <script src="assets/loader1.js"></script>
    <script src="assets/loader2.js"></script>
    <script src="assets/gui.js"></script>

    <style>
      .a-dialog-allow-button {
       background-color: white;
	}

      .a-dialog-deny-button {
       background-color: white;
        }

      .a-dialog-ok-button {
       background-color: white;
        }

      .mask {
      z-index: 99;
      width: 250px;
      height: 209px;
      position: absolute;
  
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      }

      img {
      -webkit-user-drag: none;
      user-drag: none;         
      -webkit-user-select: none;
      -moz-user-select: none;    
      -ms-user-select: none;    
      user-select: none;        
      }

      .no-js #loader { display: none;  }
      .js #loader { display: block; position: absolute; left: 100px; top: 0; }
      .se-pre-con {
	position: fixed;
	left: 0px;
	top: 0px;
	width: 100%;
	height: 100%;
	z-index: 9999;
	background: url(./images/spinner.svg) center no-repeat #000;
     }
  
    </style>
  </head>

<script>
// Wait for window load
	$(window).load(function() {
		// Animate loader off screen
		$(".se-pre-con").fadeOut("slow");;
	});
</script>

<script>
document.querySelectorAll('img').forEach((img) => {
    img.addEventListener('dragstart', (e) => e.preventDefault());
});
</script>

<body style="background-color:red">

<div class="se-pre-con"></div>

<!-- Mask -->

<img src="images/mask.webp" class="mask" draggable="false"/>

<!-- Mask -->

<a-scene rain="width: 100; count: 10000;" loading-screen="dotsColor: red; backgroundColor: red" vr-mode-ui="enabled: false" device-orientation-permission-ui="enabled: true" antialias="true" cursor="rayOrigin: mouse">


<!-- World -->

<a-sky color="#000"></a-sky>

<a-cylinder material="src:images/cylinder1.webp; side: double;" open-ended="true" scale="80 50 80" opacity="0.6;" position="0 12 0" rotation="0 0 0" animation="property: rotation; to: 0 -360 0; loop: true; easing: linear; dur: 20000"></a-cylinder>

<a-cylinder material="src:images/cylinder2.webp; side: double;" open-ended="true" scale="80 50 80" opacity="0.3;" position="0 12 0" rotation="0 0 0" animation="property: rotation; to: 0 360 0; loop: true; easing: linear; dur: 20000"></a-cylinder>

<a-plane id="curtain" width="40" height="30" color="grey" position="0 0.1 10" rotation="0 0 0" animation="property:rotation; to: 90 0 0; easing: easeOutQuad; dur: 4000"></a-plane>

<a-plane id="red carpet 1" width="12" height="15" color="red" position="10 0.1 -7" rotation="-90 90 0" animation="property:position; to: 10 0.1 -7; easing: easeOutQuad; dur: 4000"></a-plane>

<a-plane id="red carpet 2" width="12" height="15" color="red" position="-10 0.1 -7" rotation="-90 90 0" animation="property:position; to: -10 0.1 -7; easing: easeOutQuad; dur: 4000"></a-plane>

<a-plane id="red carpet 3" width="20" height="15" color="red" position="10 0.1 15" rotation="-90 90 0" animation="property:position; to: 10 0.1 15; easing: easeOutQuad; dur: 4000"></a-plane>

<a-plane id="red carpet 4" width="20" height="15" color="red" position="-10 0.1 15" rotation="-90 90 0" animation="property:position; to: -10 0.1 15; easing: easeOutQuad; dur: 4000"></a-plane>

<a-image src="./images/shirts.webp" position="0 13.5 -15" width="14" height="7" rotation="25 0 0" animation="property:rotation; to: 0 0 0; easing: easeOutQuad; dir: alternate; loop: true; dur: 4000;">
</a-image>

<!-- World End -->

<!-- Camera -->

<a-entity id="rig" position="0 5 0" look-controls="pointerLockEnabled:true;" animation="property: position; to: 0 3 0; easing: linear; dur: 1000">

<a-entity id="camera" camera position="0 1.6 0" cursor-visible="true">

<a-gui-cursor id="cursor"
raycaster="objects: [gui-interactable]"
fuse="true" fuse-timeout="1000"
color="white"
hover-color="white"
active-color="white"
design="dot">
</a-gui-cursor>

</a-entity>

</a-entity>

<!-- Camera End -->

<!-- Music -->

<audio id="music" src="assets/music.mp3" crossorigin="anonymous"></audio>

<a-box color="black" scale="200 2 200" position="0 -4 0" audio="src: #music; loop: true;"></a-box>

<!-- Music End -->

<!-- Sound -->
		
    <audio id="sound1" src="assets/mcqueen.mp3" crossorigin="anonymous"></audio>

<!-- Sound End -->

<!-- Stage -->

<a-entity text="value:McQueen feat. Witkin; color:#ffffff; shader: msdf; font: assets/fonts/cinzeldecorative/CinzelDecorative-Bold.json; align:center;" position="0 8.8 -13.5" scale="22 22 22"></a-entity> 

<a-plane gui-interactable id="01" sound="src: #sound1; on: click;" width="3.168" height="4" position="-8 2.5 -9" material="src:images/mcqueen.webp; transparent: true" rotation="0  50 0" 
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<a-plane gui-interactable id="02" width="3.168" height="4" position=" 8 2.5 -9" material="src:images/witkin.webp; transparent: true" rotation="0 -50 0"
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<a-plane gui-interactable id="03" width="3.168" height="4" position="-8.5 2.5 -3.25" material="src:images/mcgirr.webp; transparent: true" rotation="0  90 0"
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<a-plane gui-interactable id="04" width="3.168" height="4" position=" 8.5 2.5 -3.25" material="src:images/dantemask.webp; transparent: true" rotation="0 -90 0"
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<a-plane gui-interactable id="05" width="3.168" height="4" position="-9 2.5 1.5" material="src:images/bowie.webp; transparent: true" rotation="0  90 0" 
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<a-plane gui-interactable id="06" width="3.168" height="4" position=" 9 2.5 1.5" material="src:images/west.webp; transparent: true" rotation="0 -90 0" 
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<a-plane gui-interactable id="09" width="16" height="9" position=" 9 4 12" material="src:images/models1.webp; transparent: true" rotation="0 -160 0" 
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<a-plane gui-interactable id="10" width="16" height="9" position=" -9 4 12" material="src:images/models1.webp; transparent: true" rotation="0 160 0" 
             animation__mouseenter="property: scale; to: 1.1 1.1 1.1; startEvents: mouseenter; dur: 200";
             animation__mouseleave="property: scale; to: 1 1 1; startEvents: mouseleave; dur: 200";>
</a-plane>

<!-- Stage End -->

<!-- Models -->

<a-assets>
<a-asset-item id="model1" src="./images/modelwalking1.glb"></a-asset-item>
<a-asset-item id="model2" src="./images/modelwalking2.glb"></a-asset-item>
</a-assets>

<a-entity position="0 -1 -30" animation="property:position; to: 0 -1 50; loop: true; dur: 70000">
        <a-entity 
          gltf-model="#model1" 
          animation-mixer 
          scale="2.5 2.5 2.5"
          rotation="0 0 0"  
          position="-3 1.2 0">
        </a-entity>
        <a-entity 
          gltf-model="#model2" 
          animation-mixer 
          scale="2.5 2.5 2.5"
          rotation="0 0 0"  
          position="3 1.2 -15">
        </a-entity>
</a-entity>

<!-- Models End -->

<!-- Video player -->

<a-assets>
  <video id="video-src" src="assets/intro.mp4" autoplay muted loop></video>
</a-assets>

<a-video id="video-screen" src="#video-src" position="0 4.5 -14" width="12" height="9" opacity="0.9"></a-video>

<!-- Video player End -->

</a-scene>

<script type="text/javascript">
  let scene = document.querySelector('a-scene');
  var videoEl = document.querySelector('#video-src');

  // Detect mobile device and add a user interaction fallback

  const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

  window.onload = function() {
    if (isMobile) {

  // For mobile devices, play video on user interaction

      document.body.addEventListener('touchstart', function() {
        videoEl.play();
      }, { once: true });
    } else {

  // Autoplay for non-mobile devices

      videoEl.play();
    }
  };
</script>


  </body>
</html>
